---
description: "Accessibility guidelines for PyQt6 desktop UI in Loofi Fedora Tweaks"
applyTo: "ui/**"
---

# Accessibility Instructions — Loofi Fedora Tweaks (PyQt6)

You are an expert in accessibility with deep PyQt6 desktop UI expertise.

## Non-negotiables (MUST)

- Conform to platform accessibility standards (ATK/AT-SPI on Linux)
- Use standard PyQt6 widgets instead of custom-painted alternatives when possible
- Ensure correct accessible **name, role, and description** on all interactive widgets
- All interactive elements must be keyboard operable with clearly visible focus
- Do not claim the output is "fully accessible"

## PyQt6 Accessibility Patterns

### Widget Accessibility Names

```python
# ✅ Set accessible names on buttons and controls
button = QPushButton(self.tr("Install Package"))
button.setAccessibleName(self.tr("Install selected package"))
button.setAccessibleDescription(self.tr("Downloads and installs the selected package via dnf"))

# ✅ Set accessible names on input fields
search_input = QLineEdit()
search_input.setPlaceholderText(self.tr("Search tweaks..."))
search_input.setAccessibleName(self.tr("Search tweaks"))
```

### Labels and Form Fields

```python
# ✅ Associate labels with inputs
label = QLabel(self.tr("Package name:"))
label.setBuddy(package_input)  # Links label to widget for AT
```

### Object Names for Theming

```python
# ✅ Use setObjectName for QSS styling (also aids accessibility)
widget.setObjectName("primaryAction")
```

## Keyboard Navigation (MUST)

- All interactive elements are keyboard operable via Tab/Shift+Tab
- Tab order follows logical reading order
- Focus is always visible (QSS styling for focus states in `assets/modern.qss`)
- Hidden/disabled content is not focusable
- Escape key should close dialogs and popups

## Inclusive Language (MUST)

- Use `self.tr("...")` for all user-visible strings (i18n support)
- Use respectful, inclusive, people-first language
- Avoid jargon in user-facing text — prefer plain language

## Contrast and Theming (MUST)

- Text contrast: at least 4.5:1 (large text: 3:1)
- Do not rely on color alone to convey information — use icons + text
- Support system high-contrast modes via QSS theming
- Use design tokens from `assets/modern.qss` — avoid inline hex colors

## Status and Feedback

```python
# ✅ Provide accessible status updates
self.output_area.setAccessibleName(self.tr("Command output"))
self.append_output(self.tr("✅ Operation completed successfully"))
```

## Verification Checklist

Before finalizing UI output, verify:

- [ ] All buttons/controls have accessible names
- [ ] Labels are associated with form inputs via `setBuddy()`
- [ ] Tab order follows logical flow
- [ ] Focus is visible on all interactive elements
- [ ] Color is not the only indicator of state
- [ ] All user-visible strings use `self.tr("...")`
- [ ] Dialogs are closeable with Escape key
