# Codex Project Configuration — Loofi Fedora Tweaks
# See: https://developers.openai.com/codex/config-reference/

model = "gpt-5.3-codex"
approval_policy = "on-failure"
sandbox_mode = "workspace-write"

# Read AGENTS.md + CLAUDE.md for project context
project_doc_max_bytes = 65536
project_doc_fallback_filenames = ["CLAUDE.md", "AGENTS.md"]

[sandbox_workspace_write]
network_access = false
writable_roots = ["."]

# --- Profiles ---
# Use: codex --profile <name>

[profiles.fast]
# For docs, formatting, version bumps, git ops — cheapest tier
model = "gpt-4o-mini"
approval_policy = "on-failure"

[profiles.balanced]
# For business logic, tests, UI changes, reviews
model = "gpt-4o"
approval_policy = "on-failure"

[profiles.power]
# For complex architecture, multi-file changes, debugging
model = "gpt-5.3-codex"
approval_policy = "on-request"

[profiles.auto]
# Default: let GPT 5.3 handle everything
model = "gpt-5.3-codex"
approval_policy = "on-failure"

# State-file workflow profiles (Brain vs Labor)
[profiles.planner]
# High intelligence for planning and architecture artifacts
model = "gpt-5.3-codex"
temperature = 0.4
approval_policy = "on-failure"
system_prompt = "You are the Project Coordinator. Output strict, artifact-ready task and architecture specs with no chatter."

[profiles.builder]
# Balanced implementation profile
model = "gpt-4o"
approval_policy = "on-failure"
system_prompt = "You are a Senior Python Developer. Implement exactly what is in the provided architecture/task artifacts."

[profiles.scribe]
# Fast/cheap profile for docs and release notes
model = "gpt-4o-mini"
approval_policy = "on-failure"
system_prompt = "You are a technical writer. Prioritize concise, accurate release documentation."

# --- Features ---

[features]
shell_snapshot = true
